<?xml version="1.0"?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one   
  or more contributor license agreements.  See the NOTICE file 
  distributed with this work for additional information        
  regarding copyright ownership.  The ASF licenses this file   
  to you under the Apache License, Version 2.0 (the            
  "License"); you may not use this file except in compliance   
  with the License.  You may obtain a copy of the License at   
                                                               
    http://www.apache.org/licenses/LICENSE-2.0                 
                                                               
  Unless required by applicable law or agreed to in writing,   
  software distributed under the License is distributed on an  
  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY       
  KIND, either express or implied.  See the License for the    
  specific language governing permissions and limitations      
  under the License.                                           
 -->
<!DOCTYPE config [
<!ENTITY listserverConfig SYSTEM "../conf/james-listmanager.xml">
<!ENTITY fetchmailConfig SYSTEM "../conf/fetchmail.xml">
<!ENTITY jmsConfig SYSTEM "../conf/jms.xml">
<!ENTITY smtpserverConfig SYSTEM "../conf/smtpserver.xml">
<!ENTITY pop3serverConfig SYSTEM "../conf/pop3server.xml">
<!ENTITY imapserverConfig SYSTEM "../conf/imapserver.xml">
<!ENTITY remotemanagerConfig SYSTEM "../conf/remotemanager.xml">
<!ENTITY usersstoreConfig SYSTEM "../conf/users-store.xml">
<!ENTITY virtualusertablestoreConfig SYSTEM "../conf/virtualusertable-store.xml">
<!ENTITY JamesConfig SYSTEM "../conf/James.xml">
<!ENTITY mailstoreConfig SYSTEM "../conf/mailstore.xml">
<!ENTITY spoolmanagerConfig SYSTEM "../conf/spoolmanager.xml">
<!ENTITY dnsserverConfig SYSTEM "../conf/dnsserver.xml">
<!ENTITY domainlistConfig SYSTEM "../conf/domainlist.xml">


]>

<!--  Configuration file for the ASF James server -->

<!--  This file contains important settings that control the behaviour -->
<!--  of all of the services and repositories. -->

<!--                               README!                            -->

<!-- This configuration file is designed to run without alteration for simple tests. -->
<!-- It assumes you have a DNS server on localhost and assigns a root password of root. -->

<!-- In case the defaults do not suit you, the items you are most likely to need to change -->
<!-- are preceded by a CHECKME! or CONFIRM? comment in the left margin. -->

<!-- For production use you will probably need to make more extensive changes, see -->
<!-- http://james.apache.org/server/2.3.0/ -->

<!-- $Revision: 885240 $ Committed on $Date: 2009-11-29 16:15:13 +0100 (So, 29 Nov 2009) $ by: $Author: norman $ -->

<config>
   &JamesConfig;
   
   <!-- This is an example configuration for FetchMail, a JavaMail based gateway  -->
   <!-- service that pulls messages from other sources, and inserts them into the -->
   <!-- spool.  They are then processed normally, although FetchMail generally    -->
   <!-- has to fabricate some of the envelope information.  FetchMail should be   -->
   <!-- considered a mail gateway, rather than a relay, in RFC terms.             -->
   <!-- Fetchmail is a functionally richer replacement for FetchPOP.              -->
   <!-- CHECKME: FetchMail is disabled by default, and must be configured to use. -->
   <!-- Edit the file referred to by fetchmailConfig to enable and configure.     -->
   &fetchmailConfig;
   
   <!-- Example configuration for JMS interoperation -->
   <!--&jmsConfig;-->

   <!-- Set the Java packages from which to load mailets and matchers -->
   <mailetpackages>
      <mailetpackage>org.apache.james.transport.mailets</mailetpackage>
      <!-- Cryptography Mailets -->
      <mailetpackage>org.apache.james.mailet.crypto.mailet</mailetpackage>
      <!-- Sieve Mail Scripting -->
      <mailetpackage>org.apache.james.imapserver.sieve</mailetpackage>      
   </mailetpackages>
   <matcherpackages>
      <matcherpackage>org.apache.james.transport.matchers</matcherpackage>
      <!-- Crytographic mailets -->
      <matcherpackage>org.apache.james.mailet.crypto.matchers</matcherpackage>
   </matcherpackages>

    &spoolmanagerConfig;
    &dnsserverConfig;
    &domainlistConfig;
  
      
   <!-- Uncommment this block to enable the BayesianAnalyserManagement. -->
   <!-- This is needed by the RemoteManager to enable the BayesianAnaylyzerManagement commands --> 
   <bayesiananalyzermanagement> 
      <repositoryPath> db://maildb </repositoryPath>
      <sqlFile>file://conf/sqlResources.xml</sqlFile>
   </bayesiananalyzermanagement>
    

   &remotemanagerConfig;
   &smtpserverConfig;
   &pop3serverConfig;
   &imapserverConfig;
 
   
    
 

   <!-- Spool repository configuration -->
   <!-- The spool repository is the location where incoming mails are temporarily stored -->
   <!-- before being processed. -->
   <!--
   <spoolrepository destinationURL="file://var/mail/spool/" type="SPOOL"/>
   -->
 
   <!-- Alternative spool repository definition for JDBC use -->
   <!--
   <spoolrepository destinationURL="db://maildb/spool/spool" type="SPOOL"/>
   -->
 
   <!-- Alternative spool repository definition for JDBC use -->
   <!-- Stores message body in file system, rest in database -->
   <!-- TEMPORARY DEFAULT: dbfile using Derby  -->
   <spoolrepository destinationURL="dbfile://maildb/spool/spool" type="SPOOL"/>
   <!-- TEMPORARY DEFAULT: dbfile using Derby  -->

   &mailstoreConfig;
    
   &usersstoreConfig;
   
   &virtualusertablestoreConfig;

</config>
