<!-- The Mailstore block -->
<mailstore>
    <repositories>
        <!-- File based repositories.  These repositories store all message data -->
        <!-- in the file system. -->
        <repository class="org.apache.james.mailrepository.FileMailRepository">
            <protocols>
                <protocol>file</protocol>
            </protocols>
            <types>
                <type>MAIL</type>
            </types>
            <!-- Set if the messages should be listed sorted. False by default -->
            <config FIFO="false"/> 
        </repository>
        <repository class="org.apache.james.mailrepository.FileSpoolRepository">
            <protocols>
                <protocol>file</protocol>
            </protocols>
            <types>
                 <type>SPOOL</type>
            </types>
        </repository>

        <!-- JDBC based repositories.  These repositories store all message data -->
        <!-- in the database. -->
        <repository class="org.apache.james.mailrepository.JDBCMailRepository">
            <protocols>
                <protocol>db</protocol>
            </protocols>
            <types>
                <type>MAIL</type>
            </types>
            <config>
                <sqlFile>file://conf/sqlResources.xml</sqlFile>
                <!-- Set the size threshold for in memory handling of storing operations -->
                <!-- Default is currently 409600000 due to a bug with mysql and binary stream -->
                <!-- currently under investigation. Please change this only if you know what -->
                <!-- you do. -->
                <!--
                <inMemorySizeLimit>4096</inMemorySizeLimit>
                -->
            </config>
        </repository>

        <repository class="org.apache.james.mailrepository.JDBCSpoolRepository">
            <protocols>
                <protocol>db</protocol>
            </protocols>
            <types>
                <type>SPOOL</type>
            </types>
            <config>
                <sqlFile>file://conf/sqlResources.xml</sqlFile>
                <maxcache>1000</maxcache>
            </config>
        </repository>

        <!-- These repositories store message delivery and headers in the DB, and the body to the filesystem -->
        <repository class="org.apache.james.mailrepository.JDBCMailRepository">
            <protocols>
                <protocol>dbfile</protocol>
            </protocols>
            <types>
                <type>MAIL</type>
            </types>
            <config>
                <sqlFile>file://conf/sqlResources.xml</sqlFile>
                <filestore>file://var/dbmail</filestore>
            </config>
        </repository>

        <repository class="org.apache.james.mailrepository.JDBCSpoolRepository">
            <protocols>
                <protocol>dbfile</protocol>
            </protocols>
            <types>
                <type>SPOOL</type>
            </types>
            <config>
                <sqlFile>file://conf/sqlResources.xml</sqlFile>
                <filestore>file://var/dbmail</filestore>
                <maxcache>1000</maxcache>
            </config>
        </repository>
 
        <!-- The mbox repository is designed for MAIL only; SPOOL performance would be less than ideal-->
        <repository class="org.apache.james.mailrepository.MBoxMailRepository">
            <protocols>
                <protocol>mbox</protocol>
            </protocols>
            <types>
                <type>MAIL</type>
            </types>
            <!-- Set if the messages should be listed sorted. False by default -->
            <config FIFO="false"/> 
        </repository>
        
        <repository class="org.apache.james.mailrepository.filepair.File_Persistent_Object_Repository">
            <protocols>
                <protocol>file</protocol>
            </protocols>
            <types>
                <type>OBJECT</type>
            </types>
            <models>
                <model>SYNCHRONOUS</model>
                <model>ASYNCHRONOUS</model>
                <model>CACHE</model>
            </models>
        </repository>

        <repository class="org.apache.james.mailrepository.filepair.File_Persistent_Stream_Repository">
            <protocols>
                <protocol>file</protocol>
            </protocols>
            <types>
                <type>STREAM</type>
            </types>
            <models>
                <model>SYNCHRONOUS</model>
                <model>ASYNCHRONOUS</model>
                <model>CACHE</model>
            </models>
        </repository>
         
        <repository class="org.apache.james.jcr.AvalonJCRMailRepository">
            <protocols>
                <protocol>jcr</protocol>
            </protocols>
            <types>
                <type>MAIL</type>
            </types>
            <config>
                <repository>//localhost/jackrabbit.repository</repository>
                <username>admin</username>
                <password>admin</password>
                <workspace>default</workspace>
            </config>
        </repository>
    </repositories>
</mailstore>