<?xml version="1.0"?>

<document>

 <properties>
  <title>Frequently Asked Questions</title>
  <author email="danny@thought.co.uk">Danny Angus</author>
 </properties>

<body>

<section name="This FAQ">
<P>This is a living document that provides answers to common questions about James, installation, configuration, admin and running not already answered in the documentation. Last Updated February 2002.</P>
</section>

<section name="Questions">
<p>
<ul>
<li><a href="#1">Would you please teach me how to set up a mailing list</a></li>
</ul>
</p>


</section>

<section name="Answers">
<a name="1"></a>
  <subsection name="Would you please teach me how to set up a mailing list">
  <p>James currently (v2.0a2) includes only the most basic list functionality, users can subscribe and unsubscribe, but there is no moderation of messages or subscriptions</p>
  <p>To enable a list you need the following in config.xml in the root processor block and above the final mailet block -</p>
<source>
&lt;mailet match="CommandForListserv=james@localhost" class="AvalonListservManager">
	&lt;repositoryName>list-james&lt;/repositoryName>
&lt;/mailet>
</source>
<p>that will intercept the command emails sent to
<ul>
<li>james-on@localhost to subscribe the sender</li>
<li>james-off@localhost to unsubscribe the sender</li>
</ul>
</p>
<p>and-</p>
<source>
&lt;mailet match="RecipientIs=james@localhost" class="AvalonListserv">
	&lt;membersonly> false &lt;/membersonly>
	&lt;attachmentsallowed> true &lt;/attachmentsallowed>
	&lt;replytolist> true &lt;/replytolist>
	&lt;repositoryName>list-james&lt;/repositoryName>
	&lt;subjectprefix>JamesList&lt;/subjectprefix>
&lt;/mailet>
</source>
  <p>Which will distribute the mail to the current subscribers</p>
  
  <p>in addition to the above you need to have a repository configured in the users-store block(usually near the bottom of config.xml) like so (database)-</p>
<source>
&lt;repository name="list-james" class="org.apache.james.userrepository.ListUsersJdbcRepository" destinationURL="db://maildb/lists/list-james">
	&lt;sqlFile>file://conf/sqlResources.xml&lt;/sqlFile>
&lt;/repository>
</source>
  <p>Database users will also need to ensure that they have configured a data-source named to match the destination URL</p>
  <p>or (filesystem)-</p>
<source>
&lt;repository name="list-james" class="org.apache.james.userrepository.UsersFileRepository">
    &lt;destination URL="file://var/lists/list-james/"/>
&lt;/repository>
</source>

	  <p>Restart James, send a mail to james-on@localhost and you should be subscribed.</p>
	  <p>The repository, be it a database table or directory in the filesystem will be created automatically.</p>
	  <p>Database users can manipulate the users repository using SQL, and hence any application capable of running SQL queries against it</p>
	  
  </subsection>



</section>



</body>
</document>



