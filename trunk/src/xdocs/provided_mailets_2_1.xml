<?xml version="1.0"?>

<document>

 <properties>
  <title>James 2.1 - Provided Mailets</title>
 </properties>

<body>

<section name="Mailets">

<p>James provides a number of implemented Mailets for use by James administrators in their 
configurations.  These are primarily mailets that members of the James developer or user 
communities have found useful in their own configurations.  A description of how to configure 
Mailets and use them in the James SpoolManager can be found <a href="/spoolmanager_configuration_2_1.html">here</a>.</p>

<subsection name="AddFooter">
<p>Description: This mailet adds a text footer to the message.</p>
<p>Parameters:
<ul>
<li><strong>text</strong> (required) - the text that will be added as a footer to the message.</li>
</ul>
</p>
</subsection>
<subsection name="AddHabeasWarrantMark">
<p>Description: This mailet adds a Habeas warrant mark (see <a href="http://habeas.com">http://habeas.com</a> for details) to the message.</p>
<p>Parameters: None.</p>
</subsection>
<subsection name="AddHeader">
<p>Description: This mailet adds a text header to the message.</p>
<p>Parameters:
<ul>
<li><strong>text</strong> (required) - the text that will be added as a header to the message.</li>
</ul>
</p>
</subsection>
<subsection name="Forward">
<p>Description: This mailet forwards the message to a set of recipients.</p>
<p>Parameters:
<ul>
<li><strong>forwardto</strong> (required) - a comma delimited list of email addresses.</li>
</ul>
</p>
</subsection>
<subsection name="JDBCAlias">
<p>Description: This mailet does alias translation for email addresses stored in a database table.</p>
<p>Parameters:
<ul>
<li><strong>mappings</strong> (required) - a URL of the form db://&lt;data-source&gt;/&lt;table&gt;, where 
&lt;table&gt; is the table in the database containing the alias info and &lt;data-source&gt; is the name 
of the data-source in config.xml that is to be used.</li>
<li><strong>source_column</strong> (required) - the column containing the aliases.</li>
<li><strong>target_column</strong> (required) - the column containing the alias targets.</li>
</ul>
</p>
</subsection>
<subsection name="LocalDelivery">
<p>Description: This mailet delivers messages to local mailboxes.</p>
<p>Parameters: None.</p>
</subsection>
<subsection name="NotifyPostmaster">
<p>Description: This mailet forwards the message as an attachment to the James postmaster.</p>
<p>Parameters:
<ul>
<li><strong>sendingAddress</strong> (optional) - the address from which the forwarded email will be 
sent.  Defaults to the postmaster address.</li>
<li><strong>notice</strong> (optional) - the text message that will accompany the forwarded message.  Defaults 
to "We were unable to deliver the attached message because of an error in the mail server."</li>
<li><strong>attachStackTrace</strong> (optional) - whether an error stack trace is attached to the forwarded message.</li>
</ul>
</p>
</subsection>
<subsection name="NotifySender">
<p>Description: This mailet forwards the message as an attachment to the original sender.</p>
<p>Parameters:
<ul>
<li><strong>sendingAddress</strong> (optional) - the address from which the forwarded email will be 
sent.  Defaults to the postmaster address.</li>
<li><strong>notice</strong> (optional) - the text message that will accompany the forwarded message.  Defaults 
to "We were unable to deliver the attached message because of an error in the mail server."</li>
<li><strong>attachStackTrace</strong> (optional) - whether an error stack trace is attached to the forwarded message.</li>
</ul>
</p>
</subsection>
<subsection name="Null">
<p>Description: This mailet ends processing for this mail.</p>
<p>Parameters: None.</p>
</subsection>
<subsection name="PostmasterAlias">
<p>Description: Intercepts all mails addressed to postmaster@&lt;domain&gt; where &lt;domain&gt; is one 
of the domains managed by this James server and substitutes the configured James postmaster address for 
the original recipient address.  This mailet is inserted automatically by James at the head of the root
processor.</p>
<p>Parameters: None.</p>
</subsection>
<subsection name="RemoteDelivery">
<p>Manages delivery of messages to recipients on remote SMTP hosts.</p>
<p>Parameters:
<ul>
<li><strong>outgoing</strong> (required) - The URL for the repository that will hold messages being processed 
by the RemoteDelivery Mailet.</li>
<li><strong>delayTime</strong> (optional) - a non-negative Long value that is the time in 
milliseconds between redelivery attempts for a particular mail.  Defaults to six hours.</li>
<li><strong>maxRetries</strong> (optional) - a non-negative Integer value that is number of times
the Mailet will attempt to deliver a particular mail.  Defaults to five.</li>
<li><strong>timeout</strong> (optional) - The SMTP connection timeout for SMTP connections generated 
by this Mailet.  Defaults to 60 seconds.</li>
<li><strong>deliveryThreads</strong> (optional) - The number of threads this Mailet will use to generate
SMTP connections.</li>
<li><strong>gateway</strong> (optional) - The host name of the SMTP server to be used as a gateway for 
this server.  If this value is set, then all messages will be delivered to the gateway server, 
regardless of recipient address.  If this value is unset, delivery will occur to SMTP servers resolved
by MX lookup.</li>
<li><strong>gatewayPort</strong> (optional) - The port number of the SMTP server to be used as a gateway for 
this server.  This value is required if gateway is set.</li>
<li><strong>debug</strong> (optional) - a boolean value (true/false) indicating whether debugging is 
on.  Defaults to false.</li>
</ul>
</p>
</subsection>
<subsection name="ServerTime">
<p>Description: This mailet sends a message to the sender of the original mail message with a server timestamp.</p>
<p>Parameters: None.</p>
</subsection>
<subsection name="ToProcessor">
<p>Redirects processing of the mail message to the specified processor.</p>
<p>Parameters:
<ul>
<li><strong>processor</strong> (required) - the name of the processor to which the message
is to be redirected.</li>
<li><strong>noticeText</strong> (optional) - a String value that, if present, 
is set as the error message of the redirected message.  If this value is not 
present, no error message is set.</li>
</ul>
</p>
</subsection>
<subsection name="ToRepository">
<p>Places a copy of the message in the specified repository.</p>
<p>Parameters:
<ul>
<li><strong>repositoryPath</strong> (required) - the URL of the repository to which the message
is to be added.</li>
<li><strong>passThrough</strong> (optional) - a boolean value (true/false) indicating whether 
processing should continue on the message is on.  If false, the original message is GHOSTed.  Defaults to false.</li>
</ul>
</p>
</subsection>
<subsection name="UseHeaderRecipients">
<p>Description: Ignores the recipients associated with the Mail interface.  Instead, it regenerates the 
mail recipients from the MimeMessage headers (To, Cc, Bcc) and inserts a new message at the queue root 
these new recipients.  The original message is GHOSTed.</p>
<p>Parameters:
<ul>
<li><strong>debug</strong> (optional) - a boolean value (true/false) indicating whether debugging is 
on.  Defaults to false.</li>
</ul>
</p>
</subsection>
</section>
</body>
</document>
